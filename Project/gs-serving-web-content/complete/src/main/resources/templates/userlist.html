<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Coffee Shop - Danh sách người dùng</title>
		<style>
			:root{--coffee-900:#3e2723;--coffee-700:#5d4037;--accent:#c59d5f;--cream:#fff8e1}
			*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--coffee-900);background:linear-gradient(180deg,#efebe9,#fff 30%)}
			header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:linear-gradient(135deg,#5d4037,#3e2723);color:#fff}
			header .brand{display:flex;align-items:center;gap:10px}
			header .logo{width:36px;height:36px;display:grid;place-items:center;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.2);border-radius:8px}
			main{max-width:1000px;margin:20px auto;padding:0 16px}
			.toolbar{display:flex;justify-content:space-between;align-items:center;margin:10px 0 14px}
			.btn{border:0;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
			.btn.primary{background:var(--accent);color:#1d140f}
			.card{background:#fff;border:1px solid rgba(0,0,0,.06);border-radius:16px;box-shadow:0 8px 22px rgba(62,39,35,.10);overflow:hidden}
			table{width:100%;border-collapse:collapse}
			th,td{padding:12px 14px;border-bottom:1px solid #eee;text-align:left}
			th{background:linear-gradient(180deg,#fff,var(--cream));font-size:14px}
			tr:hover td{background:#faf7f2}
			a.link{color:#5d4037;text-decoration:none}
			a.link:hover{text-decoration:underline}
			.actions a{margin-right:10px}
			.search{display:flex;gap:8px}
			.search input{padding:10px 12px;border:1px solid #d4cfcf;border-radius:10px;min-width:220px}
		</style>
	</head>
	<body>
		<header>
			<div class="brand"><div class="logo">☕</div><div>Coffee Shop - Quản lý người dùng</div></div>
			<nav><a class="link" th:href="@{/}">Trang chủ</a> · <a class="link" th:href="@{/logout}">Đăng xuất</a></nav>
		</header>
		<main>
			<div class="toolbar">
				<div class="search">
					<form th:action="@{/users}" method="get" style="display:flex;gap:8px">
						<input type="text" name="q" placeholder="Tìm tên/email..." th:value="${param.q}" />
						<button class="btn" type="submit">Tìm</button>
					</form>
				</div>
				<a class="btn primary" th:href="@{/users/add}">+ Thêm người dùng</a>
			</div>

			<div class="card">
				<table>
					<thead>
						<tr>
							<th>#</th>
							<th>Tên</th>
							<th>Username</th>
							<th>Email</th>
							<th>Vai trò</th>
							<th>Hành động</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="u, iStat : ${users}">
							<td th:text="${iStat.index + 1}">1</td>
							<td th:text="${u.fullName}">Nguyễn Văn A</td>
							<td th:text="${u.username}">username</td>
							<td th:text="${u.email}">email@gmail.com</td>
							<td th:text="${u.role}">USER</td>
							<td class="actions">
								<a class="link" th:href="@{'/users/edit/' + ${u.id}}">Sửa</a>
								<a class="link" th:href="@{'/users/delete/' + ${u.id}}" onclick="return confirm('Xóa người dùng này?')">Xóa</a>
							</td>
						</tr>
						<tr th:if="${#lists.isEmpty(users)}"><td colspan="6" style="text-align:center;padding:18px">Chưa có người dùng.</td></tr>
					</tbody>
				</table>
			</div>
		</main>
	</body>
	</html>

