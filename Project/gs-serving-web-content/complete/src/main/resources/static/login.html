<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Coffee Shop - ƒêƒÉng nh·∫≠p</title>
    <!-- Copied from static/login.html to ensure Thymeleaf processes attributes -->
    <style>
        :root {
            --coffee-950:#2a1b18;
            --coffee-900:#3e2723;
            --coffee-700:#5d4037;
            --coffee-500:#6d4c41;
            --accent:#c59d5f;
            --accent-rgb:197,157,95;
            --danger:#d84343;
            --success:#2e7d32;
        }
        *{box-sizing:border-box;font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif}
        body{
            margin:0;
            min-height:100vh;
            display:grid;
            place-items:center;
            padding:40px 20px;
            background:
                radial-gradient(1000px 560px at 100% -10%,rgba(var(--accent-rgb),.10),transparent 60%),
                radial-gradient(800px 440px at -10% 100%,rgba(109,76,65,.12),transparent 65%),
                linear-gradient(180deg,#f3ece9,#ffffff 35%);
            color:var(--coffee-900);
        }
        .shell{
            width:100%;
            max-width:480px;
            background:#fff;
            border:1px solid rgba(62,39,35,.08);
            border-radius:28px;
            padding:46px 44px 40px;
            display:flex;
            flex-direction:column;
            gap:34px;
            box-shadow:0 18px 46px -16px rgba(62,39,35,.35),0 8px 22px -10px rgba(0,0,0,.18);
            position:relative;
        }
        .brand{display:flex;flex-direction:column;gap:10px}
        .brand-row{display:flex;align-items:center;gap:16px}
        .logo{width:60px;height:60px;display:grid;place-items:center;background:linear-gradient(135deg,rgba(255,255,255,.3),rgba(255,255,255,.05));border:1px solid rgba(62,39,35,.12);border-radius:20px;font-size:30px;backdrop-filter:blur(6px);color:var(--coffee-700)}
        h1{margin:0;font-size:28px;font-weight:600;line-height:1.15;letter-spacing:.5px;background:linear-gradient(90deg,var(--coffee-900),var(--coffee-700));-webkit-background-clip:text;color:transparent}
        .subtitle{font-size:14px;font-weight:500;color:#705c55;letter-spacing:.3px;margin:0}
        form{display:grid;gap:22px}
        .field{display:grid;gap:6px}
        .field label{font-size:13px;font-weight:600;letter-spacing:.6px;text-transform:uppercase;color:#6a524a}
        .input-wrap{position:relative}
        .input-wrap input{width:100%;padding:16px 18px 14px 50px;border:1px solid rgba(62,39,35,.28);border-radius:18px;font-size:15px;background:#fff;transition:.25s;font-weight:500}
        .input-wrap input:focus{outline:0;border-color:var(--accent);box-shadow:0 0 0 3px rgba(var(--accent-rgb),.35)}
        .icon{position:absolute;top:50%;left:16px;translate:0 -50%;width:26px;height:26px;display:grid;place-items:center;font-size:15px;color:var(--coffee-500);pointer-events:none}
        .row{display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap}
        .checkbox{display:inline-flex;align-items:center;gap:8px;font-size:13px}
        .checkbox input{width:18px;height:18px;margin:0;accent-color:var(--accent);cursor:pointer}
        .row a{font-size:13px;font-weight:500;text-decoration:none;color:var(--coffee-700)}
        .row a:hover{text-decoration:underline;color:var(--coffee-900)}
        .btn{border:0;cursor:pointer;padding:16px 22px;font-size:15px;font-weight:600;border-radius:22px;background:linear-gradient(135deg,var(--accent),#e4bd7d);color:#392514;letter-spacing:.5px;display:inline-flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 12px 30px -10px rgba(var(--accent-rgb),.6),0 4px 10px rgba(0,0,0,.08);transition:.3s}
        .btn:hover{filter:brightness(1.05);transform:translateY(-2px)}
        .btn:active{transform:translateY(0)}
        .alert{font-size:13px;padding:12px 16px;border-radius:16px;border:1px solid;line-height:1.5;display:flex;gap:10px;align-items:flex-start}
        .alert.error{background:#fff4f4;border-color:#f6c9c9;color:var(--danger)}
        .alert.success{background:#f0faf1;border-color:#bfe3c4;color:var(--success)}
        .bottom-note{font-size:13px;text-align:center;color:#6f5a53;margin-top:-6px}
        .bottom-note a{color:var(--coffee-700);font-weight:600;text-decoration:none}
        .bottom-note a:hover{text-decoration:underline}
        @media (max-width:560px){body{padding:30px 14px}.shell{padding:40px 32px 34px;border-radius:24px}h1{font-size:26px}}
    </style>
    <!-- Ensure forms are not cached weirdly during back/forward navigation -->
    <meta http-equiv="Cache-Control" content="no-store"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
</head>
<body>
<div class="shell">
    <div class="brand">
        <div class="brand-row">
            <div class="logo">‚òï</div>
            <div>
                <h1>Coffee Shop</h1>
                <p class="subtitle">ƒêƒÉng nh·∫≠p h·ªá th·ªëng</p>
            </div>
        </div>
    </div>

    <form th:action="@{/login}" method="post" autocomplete="on">
        <div class="field">
            <label for="username">T√™n ƒëƒÉng nh·∫≠p</label>
            <div class="input-wrap">
                <span class="icon">üë§</span>
                <input id="username" name="email" type="text" required autofocus autocomplete="username"/>
            </div>
        </div>
        <div class="field">
            <label for="password">M·∫≠t kh·∫©u</label>
            <div class="input-wrap">
                <span class="icon">üîí</span>
                <input id="password" name="password" type="password" required autocomplete="current-password"/>
            </div>
        </div>
        <div class="row">
            <label class="checkbox">
                <input type="checkbox" name="remember-me"/>
                <span>Ghi nh·ªõ</span>
            </label>
            <a href="#" onclick="alert('Li√™n h·ªá qu·∫£n tr·ªã ƒë·ªÉ ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u');return false;">Qu√™n m·∫≠t kh·∫©u?</a>
        </div>
        <button class="btn" type="submit">ƒêƒÉng nh·∫≠p</button>

    <!-- server-side alerts removed for static/deploy flow -->
    </form>

    <div class="bottom-note">
        Ch∆∞a c√≥ t√†i kho·∫£n?
        <a th:href="@{/register}" href="register.html">ƒêƒÉng k√Ω ngay</a>
    </div>
    <!-- Optional: Quick link to product list -->
    <div style="text-align:center;margin-top:8px">
        <a th:href="@{/productlist.html}" style="font-size:12px;color:#7a5f56;text-decoration:none">Xem s·∫£n ph·∫©m</a>
    </div>
    <!-- Client-side alerts (shown only when query params are present) -->
    <div id="clientAlertError" class="alert error" style="display:none;margin-top:12px"><strong>‚úñ</strong> Sai th√¥ng tin ƒëƒÉng nh·∫≠p. Vui l√≤ng th·ª≠ l·∫°i.</div>
    <div id="clientAlertLogout" class="alert success" style="display:none;margin-top:12px"><strong>‚úì</strong> B·∫°n ƒë√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng.</div>
    <script>
        (function(){
            try{
                const params = new URLSearchParams(window.location.search);
                if(params.get('error')){
                    const el = document.getElementById('clientAlertError'); if(el) el.style.display = 'flex';
                }
                if(params.get('logout')){
                    const el = document.getElementById('clientAlertLogout'); if(el) el.style.display = 'flex';
                }
            }catch(e){ console.error(e); }
        })();
    </script>
    
</div>
</body>
</html>
